<!-- table -->
<div class="mt-1 w-100">
    <table class="table table-dark table-striped table-bordered table-hover table-sm">
        <caption>List of Events</caption>
        <!-- row headers -->
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Location</th>
                <th scope="col">Season</th>
                <th scope="col">Episode</th>
                <th scope="col">Summary</th>
                <th class='text-center'>actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each events}}
            <tr id={{id}}>
                <td>{{name}}</td>
                <td>{{location}}</td>
                <td>{{season}}</td>
                <td>{{episode}}</td>
                <td>{{summary}}</td>

                <!-- delete & edit buttons -->
                <td>
                    <div class='d-flex justify-content-around'>
                        <!-- delete button -->
                        <div data-toggle='tooltip' title='Delete' data-placement='top'>
                            <button type="button" class="btn btn-danger btn-sm " onclick='deleteRow({{id}})'>
                                <i class="far fa-trash-alt "></i>
                            </button>
                        </div>

                        <!-- edit button -->
                        <div data-toggle='tooltip' title='Edit' data-placement="top">
                            <a class="btn btn-success btn-sm editBtn" href='/events/{{id}}'>
                                <i class="fas fa-edit"></i>
                            </a>
                        </div>
                    </div>
                </td>
            </tr>
           {{/each}}
        </tbody>
    </table>
</div>

<!-- Edit Modal HTML -->
<div id="editModal" class="modal fade">
    <div class="modal-dialog modal-confirm ">
        <div class="modal-content">
            <div class="modal-body text-left">
                <form action="/events" method="post">
                    <div class="form-group">
                        <label for='event_name'>Event Name</label>
                        <input class='form-control' type="text" name="name" maxlength="30" required>
                    </div>

                    <div class="form-group">
                        <label for='location'>Location</label>
                        <select name='location' class='custom-select' id='location-selector'>
                            {{#each locations}}
                            <option value="{{id}}">{{name}}</option>
                            {{/each}}
                            <option value=''>none</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for='season'>Season</label>
                        {{!-- <input class='form-control' type="number" name="season" maxlength="30">
                         --}}
                         <select id='season' name="season" class='form-control'>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for='episode'>Episode</label>
                        <select id='episode' name="episode" class='form-control'>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>

                    <div class="form-group"><label>Summary</label>
                        <textarea class='form-control' name="summary" id="summary" rows="3" maxlength="3000"></textarea>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
                        <button class="btn btn-success" id='add' data-dismiss="modal">Submit</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>


{{!-- this is used by the script.js add function --}}
<script type='text/x-handlebars-template'>
    <tbody>
        \{{#each events}}
        <tr id=\{{id}}>
            <td>\{{ name }}</td>
            <td>\{{ location }}</td>
            <td>\{{ season }}</td>
            <td>\{{ episode }}</td>
            <td>\{{ summary }}</td>

                <!-- delete & edit buttons -->
            <td>
                <div class='d-flex justify-content-around'>
                <!-- delete button -->
                    <div data-toggle='tooltip' title='Delete' data-placement='top'>
                        <button type="button" class="btn btn-danger btn-sm " onclick='deleteRow(\{{id}})'>
                            <i class="far fa-trash-alt "></i>
                        </button>
                    </div>

                    <!-- edit button -->
                    <div data-toggle='tooltip' title='Edit' data-placement="top">
                        <a class="btn btn-success btn-sm editBtn" href='/events/\{{id}}'>
                            <i class="fas fa-edit"></i>
                        </a>
                    </div>
                </div>
            </td>
            </tr>
          \{{/each}}
    </tbody>
</script>